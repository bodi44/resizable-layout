{"version":3,"sources":["components/Provider.js","actions/index.js","reducers/articles/article.js","helpers/initialData.js","reducers/articles/index.js","reducers/layoutArticles/layoutArticle.js","reducers/layoutArticles/index.js","reducers/index.js","components/Article/Article.js","components/Sidebar/Sidebar.js","helpers/BEM.js","components/LayoutArticle/LayoutArticle.js","components/Row.js","components/Layout/Layout.js","components/App/App.js","index.js","configureStore.js"],"names":["ProviderWrapper","_ref","children","store","react_default","a","createElement","es","addArticleToLayout","type","id","col","row","size","article","state","action","text","sidebar","element1","element2","element3","element4","element5","element6","articles","combineReducers","byId","arguments","length","undefined","Object","objectSpread","defineProperty","newState","assign","allIds","keys","concat","toConsumableArray","filter","layoutArticle","rowId","layoutArticles","byIdsInLayout","allIdsInLayout","rowsById","articlesInRow","update","$splice","index","overIndex","draggedId","rowsInLayout","getAllArticles","map","fromArticles","getIdsInLayout","fromLayoutArticles","getLayoutParameters","getAllRows","DragSource","beginDrag","props","endDrag","monitor","getDropResult","connect","connectDragSource","dragSource","connectDragPreview","dragPreview","isDragging","className","flow","indexOf","addArticle","v4","removeArticle","DropTarget","drop","console","log","connectDropTarget","dropTarget","hovered","isOver","item","getItem","data","components_Article_Article","key","ELEMENT_SEPARATOR","MODIFIER_SEPARATOR","b","elementName","e","m","modifiers","Array","isArray","modifier","base","join","trim","getBEMPAth","BEM","LayoutArticle","dragging","initX","initMaxWidth","parseInt","_this","parameters","replace","changed","handleMouseDown","preventDefault","setState","window","addEventListener","handleMouseUp","handleMouseMove","removeEventListener","_this$props","updateArticleSizeInLayout","delta","pageX","maxWidth","initialMaxWidth","_this2","this","_this$props2","resize","style","minWidth","onMouseDown","Component","canDrop","hover","dragRow","overRow","overId","reorderArticleInRow","_ref4","changeArticleColumnInRow","removeArticleFromLayout","_ref3","border","marginBottom","i","components_LayoutArticle_LayoutArticle","param","layoutParameters","addNewRowToLayout","rows","components_Row","p","App","cjs","backend","HTML5Backend","components_Sidebar_Sidebar","components_Layout_Layout","ReactDOM","render","Provider","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","components_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.06386336.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Provider } from 'react-redux'\r\n\r\nconst ProviderWrapper = ({ children, store }) => (\r\n  <Provider store={store}>\r\n    {children}\r\n  </Provider>\r\n)\r\n\r\nexport default ProviderWrapper","import { v4 } from 'node-uuid'\r\n//TODO change actions names:\r\nexport const ADD_ARTICLE = 'ADD_ARTICLE'\r\nexport const REMOVE_ARTICLE = 'REMOVE_ARTICLE'\r\nexport const ADD_ARTICLE_TO_LAYOUT = 'ADD_ARTICLE_TO_LAYOUT'\r\nexport const REMOVE_ARTICLE_FROM_LAYOUT = 'REMOVE_ARTICLE_FROM_LAYOUT'\r\nexport const ADD_NEW_ROW_TO_LAYOUT = 'ADD_NEW_ROW_TO_LAYOUT'\r\nexport const ADD_ARTICLE_TO_EXISTING_ROW = 'ADD_ARTICLE_TO_EXISTING_ROW'\r\nexport const DELETE_ROW_FROM_LAYOUT = 'DELETE_ROW_FROM_LAYOUT'\r\nexport const CHANGE_ARTICLE_COLUMN_IN_ROW = 'CHANGE_ARTICLE_COLUMN_IN_ROW'\r\nexport const UPDATE_ARTICLE_SIZE_IN_LAYOUT = 'UPDATE_ARTICLE_SIZE_IN_LAYOUT'\r\nexport const REORDER_ARTICLE_IN_ROW = 'REORDER_ARTICLE_IN_ROW'\r\n\r\nexport const addArticle = text => ({\r\n  type: ADD_ARTICLE,\r\n  id: v4(),\r\n  text\r\n})\r\n\r\nexport const removeArticle = id => ({\r\n  type: REMOVE_ARTICLE,\r\n  id\r\n})\r\n\r\nexport const addArticleToLayout = ({ id, col, row, size }) => ({\r\n  type: ADD_ARTICLE_TO_LAYOUT,\r\n  id,\r\n  col,\r\n  row,\r\n  size\r\n})\r\n\r\n\r\nexport const removeArticleFromLayout = id => ({\r\n  type: REMOVE_ARTICLE_FROM_LAYOUT,\r\n  id\r\n})\r\n\r\nexport const addNewRowToLayout = () => ({\r\n  type: ADD_NEW_ROW_TO_LAYOUT,\r\n  id: v4()\r\n})\r\n\r\nexport const addArticleToExistingRow = ({ id, rowId }) => ({\r\n  type: ADD_ARTICLE_TO_EXISTING_ROW,\r\n  id,\r\n  rowId\r\n})\r\n\r\nexport const deleteRowFromLayout = id => ({\r\n  type: DELETE_ROW_FROM_LAYOUT,\r\n  id\r\n})\r\n\r\nexport const changeArticleColumnInRow = ({ id, col }) => ({\r\n  type: CHANGE_ARTICLE_COLUMN_IN_ROW,\r\n  id,\r\n  col\r\n})\r\n\r\nexport const updateArticleSizeInLayout = ({ id, size }) => ({\r\n  type: UPDATE_ARTICLE_SIZE_IN_LAYOUT,\r\n  id,\r\n  size\r\n})\r\n\r\nexport const reorderArticleInRow = (rowId, index, overIndex, draggedId, overId) => ({\r\n  type: REORDER_ARTICLE_IN_ROW,\r\n  rowId: rowId,\r\n  index: index,\r\n  overIndex: overIndex,\r\n  draggedId: draggedId,\r\n  overId: overId\r\n})","import { ADD_ARTICLE } from '../../actions'\r\n\r\nconst article = (state, action) => {\r\n  switch (action.type) {\r\n    case ADD_ARTICLE:\r\n      return {\r\n        id: action.id,\r\n        text: action.text\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default article","export const sidebar = {\r\n  'element1': {\r\n    id: 'element1',\r\n    text: 'element 1'\r\n  },\r\n  'element2': {\r\n    id: 'element2',\r\n    text:\r\n      'element 2'\r\n  }\r\n  ,\r\n  'element3': {\r\n    id: 'element3',\r\n    text:\r\n      'element 3'\r\n  }\r\n  ,\r\n  'element4': {\r\n    id: 'element4',\r\n    text:\r\n      'element 4'\r\n  }\r\n  ,\r\n  'element5': {\r\n    id: 'element5',\r\n    text:\r\n      'element 5'\r\n  }\r\n  ,\r\n  'element6': {\r\n    id: 'element6',\r\n    text:\r\n      'element 6'\r\n  }\r\n}","import { combineReducers } from 'redux'\r\n\r\nimport { ADD_ARTICLE, REMOVE_ARTICLE } from '../../actions'\r\nimport article from './article'\r\nimport { sidebar } from '../../helpers/initialData'\r\n\r\nconst byId = (state = sidebar, action) => {\r\n  switch (action.type) {\r\n    case ADD_ARTICLE:\r\n      return {\r\n        ...state,\r\n        [action.id]: article(state[action.id], action)\r\n      }\r\n    case REMOVE_ARTICLE:\r\n      const newState = Object.assign({}, state)\r\n      delete newState[action.id]\r\n      return newState\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst allIds = (state = Object.keys(sidebar), action) => {\r\n  switch (action.type) {\r\n    case ADD_ARTICLE:\r\n      return [...state, action.id]\r\n    case REMOVE_ARTICLE:\r\n      return state.filter(id => id !== action.id)\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst articles = combineReducers({\r\n  byId,\r\n  allIds\r\n})\r\n\r\nexport default articles\r\n\r\n//Selectors\r\nexport const getAllArticles = state => state.allIds.map(id => state.byId[id])","import { ADD_ARTICLE_TO_EXISTING_ROW, ADD_ARTICLE_TO_LAYOUT, CHANGE_ARTICLE_COLUMN_IN_ROW, UPDATE_ARTICLE_SIZE_IN_LAYOUT } from '../../actions'\r\n\r\nconst layoutArticle = (state, action) => {\r\n  switch (action.type) {\r\n    case ADD_ARTICLE_TO_LAYOUT:\r\n      return {\r\n        id: action.id,\r\n        row: action.row,\r\n        col: action.col,\r\n        size: action.size\r\n      }\r\n    case ADD_ARTICLE_TO_EXISTING_ROW:\r\n      return {\r\n        ...state,\r\n        row: action.rowId\r\n      }\r\n    case CHANGE_ARTICLE_COLUMN_IN_ROW:\r\n      return {\r\n        ...state,\r\n        col: action.col\r\n      }\r\n    case UPDATE_ARTICLE_SIZE_IN_LAYOUT:\r\n      return {\r\n        ...state,\r\n        size: action.size\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default layoutArticle","import update from 'immutability-helper'\r\n\r\nimport {\r\n  ADD_NEW_ROW_TO_LAYOUT,\r\n  ADD_ARTICLE_TO_EXISTING_ROW,\r\n  ADD_ARTICLE_TO_LAYOUT,\r\n  CHANGE_ARTICLE_COLUMN_IN_ROW,\r\n  DELETE_ROW_FROM_LAYOUT, REORDER_ARTICLE_IN_ROW,\r\n  REMOVE_ARTICLE_FROM_LAYOUT, UPDATE_ARTICLE_SIZE_IN_LAYOUT\r\n} from '../../actions'\r\nimport { combineReducers } from 'redux'\r\nimport layoutArticle from './layoutArticle'\r\n\r\nconst byIdsInLayout = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ADD_ARTICLE_TO_LAYOUT:\r\n      return {\r\n        ...state,\r\n        [action.id]: layoutArticle(state[action.id], action)\r\n      }\r\n    case REMOVE_ARTICLE_FROM_LAYOUT:\r\n      const newState = Object.assign({}, state)\r\n      delete newState[action.id]\r\n      return newState\r\n    case ADD_ARTICLE_TO_EXISTING_ROW:\r\n      return Object.assign({}, state, {\r\n        [action.id]: layoutArticle(state[action.id], action)\r\n      })\r\n    case CHANGE_ARTICLE_COLUMN_IN_ROW:\r\n      return Object.assign({}, state, {\r\n        [action.id]: layoutArticle(state[action.id], action)\r\n      })\r\n    case UPDATE_ARTICLE_SIZE_IN_LAYOUT:\r\n      return Object.assign({}, state, {\r\n        [action.id]: layoutArticle(state[action.id], action)\r\n      })\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst allIdsInLayout = (state = [], action) => {\r\n  switch (action.type) {\r\n    case ADD_ARTICLE_TO_LAYOUT:\r\n      return [...state, action.id]\r\n    case REMOVE_ARTICLE_FROM_LAYOUT:\r\n      return state.filter(id => id !== action.id)\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst rowsById = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ADD_ARTICLE_TO_LAYOUT:\r\n      return {\r\n        ...state,\r\n        [action.row]: {\r\n          rowId: action.row,\r\n          articlesInRow: [...state[action.row].articlesInRow, action.id]\r\n        }\r\n      }\r\n    case ADD_NEW_ROW_TO_LAYOUT:\r\n      return {\r\n        ...state,\r\n        [action.id]: {\r\n          rowId: action.id,\r\n          articlesInRow: []\r\n        }\r\n      }\r\n    case DELETE_ROW_FROM_LAYOUT:\r\n      const newState = Object.assign({}, state)\r\n      delete newState[action.id]\r\n      return newState\r\n    case ADD_ARTICLE_TO_EXISTING_ROW:\r\n      return {\r\n        ...state,\r\n        [action.rowId]: {\r\n          ...state[action.rowId],\r\n          articlesInRow: [...state[action.rowId].articlesInRow, action.id]\r\n        }\r\n      }\r\n    case REORDER_ARTICLE_IN_ROW:\r\n      return {\r\n        ...state,\r\n        [action.rowId]: {\r\n          ...state[action.rowId],\r\n          articlesInRow: update(\r\n            state[action.rowId].articlesInRow, {\r\n              $splice: [[action.index, 1], [action.overIndex, 0, action.draggedId]]\r\n            }\r\n          )\r\n        }\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst rowsInLayout = (state = [], action) => {\r\n  switch (action.type) {\r\n    case ADD_NEW_ROW_TO_LAYOUT:\r\n      return [...state, action.id]\r\n    case DELETE_ROW_FROM_LAYOUT:\r\n      return state.filter(id => id !== action.id)\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst layoutArticles = combineReducers({\r\n  byIdsInLayout,\r\n  allIdsInLayout,\r\n  rowsById,\r\n  rowsInLayout\r\n})\r\n\r\nexport default layoutArticles\r\n\r\n//Selectors\r\nexport const getIdsInLayout = state => state.allIdsInLayout\r\nexport const getLayoutParameters = state => state.allIdsInLayout.map(id => state.byIdsInLayout[id])\r\nexport const getLayoutParameterById = (paramId, state) => state.byIdsInLayout[paramId]\r\nexport const getAllRows = state => state.rowsInLayout.map(id => state.rowsById[id])\r\nexport const getRowById = (rowId, state) => state.rowsById[rowId]\r\n","import { combineReducers } from 'redux'\r\n\r\nimport articles, * as fromArticles from './articles'\r\nimport layoutArticles, * as fromLayoutArticles from './layoutArticles'\r\n\r\nexport default combineReducers({\r\n  articles: articles,\r\n  layoutArticles: layoutArticles\r\n})\r\n\r\n//Articles selector\r\nexport const getAllArticles = state =>\r\n  fromArticles.getAllArticles(state.articles)\r\n\r\nexport const getIdsInLayout = state =>\r\n  fromLayoutArticles.getIdsInLayout(state.layoutArticles)\r\n\r\n//Layout selectors\r\nexport const getLayoutParameters = state =>\r\n  fromLayoutArticles.getLayoutParameters(state.layoutArticles)\r\n\r\nexport const getLayoutParameterById = (paramId, state) =>\r\n  fromLayoutArticles.getLayoutParameterById(paramId, state.layoutArticles)\r\n\r\nexport const getAllRows = state =>\r\n  fromLayoutArticles.getAllRows(state.layoutArticles)\r\n\r\nexport const getRowById = (rowId, state) =>\r\n  fromLayoutArticles.getRowById(rowId, state.layoutArticles)","import React from 'react'\r\nimport { DragSource } from 'react-dnd'\r\n\r\nimport './Article.css'\r\n\r\nconst Article = ({ article, connectDragSource }) => {\r\n  return connectDragSource(\r\n    <div className={'Article'}>\r\n      <h3 className={'Article__title'}>{article.text}</h3>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DragSource(\r\n  'Article',\r\n  {\r\n    beginDrag(props) {\r\n      return props.article\r\n    },\r\n\r\n    endDrag(props, monitor) {\r\n      if (monitor.getDropResult() === null) return\r\n    }\r\n  },\r\n  (connect, monitor) => ({\r\n    connectDragSource: connect.dragSource(),\r\n    connectDragPreview: connect.dragPreview(),\r\n    isDragging: monitor.isDragging()\r\n  })\r\n)(Article)","import React from 'react'\r\nimport { DropTarget } from 'react-dnd'\r\nimport { connect } from 'react-redux'\r\nimport flow from 'lodash/flow'\r\n\r\nimport Article from '../Article'\r\n\r\nimport './Sidebar.css'\r\nimport { getAllArticles, getIdsInLayout } from '../../reducers'\r\nimport { addArticle, removeArticle } from '../../actions'\r\n\r\nconst Sidebar = ({ data, connectDropTarget, hovered, articles, addArticle, removeArticle }) => {\r\n  return connectDropTarget(\r\n    <aside className={'Sidebar'}>\r\n      <h1 className={'Sidebar__title'}>Sidebar</h1>\r\n      {articles.map(article => (\r\n        <Article\r\n          key={article.id}\r\n          article={article}\r\n          addArticle={addArticle}\r\n          removeArticle={removeArticle}\r\n        />\r\n      ))}\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default flow(\r\n  connect(\r\n    state => ({\r\n      articles: getAllArticles(state).filter(article => getIdsInLayout(state).indexOf(article.id) === -1)\r\n    }),\r\n    {\r\n      addArticle,\r\n      removeArticle\r\n    }\r\n  ),\r\n  DropTarget(\r\n    'Article',\r\n    {\r\n      drop(props, monitor) {\r\n        console.log(props)\r\n      }\r\n    },\r\n    (connect, monitor) => (\r\n      {\r\n        connectDropTarget: connect.dropTarget(),\r\n        hovered: monitor.isOver(),\r\n        item: monitor.getItem()\r\n      }\r\n    )\r\n  ))(Sidebar)","const ELEMENT_SEPARATOR = '__',\r\n  MODIFIER_SEPARATOR = '_'\r\n\r\nfunction getBEMPAth({ b, e, m }) {\r\n  const base = e ? [b, e].join(ELEMENT_SEPARATOR) : b\r\n\r\n  return [base, ...m.map(modifier => [base, modifier].join(MODIFIER_SEPARATOR))]\r\n    .join(' ')\r\n    .trim()\r\n}\r\n\r\nconst b = b => (elementName, modifiers = {}) => {\r\n  let e, m\r\n\r\n  if (typeof elementName === 'string') {\r\n    e = elementName\r\n  } else {\r\n    modifiers = elementName || {}\r\n  }\r\n\r\n  if (Array.isArray(modifiers)) {\r\n    m = modifiers\r\n  } else {\r\n    m = Object.keys(modifiers).filter(modifier => modifiers[modifier]) || []\r\n  }\r\n\r\n  return getBEMPAth({ b, e, m })\r\n}\r\n\r\nexport default b","import React, { Component } from 'react'\r\nimport { DropTarget, DragSource } from 'react-dnd'\r\nimport { connect } from 'react-redux'\r\nimport flow from 'lodash/flow'\r\n\r\nimport '../../grid.scss'\r\nimport './LayoutArticle.scss'\r\nimport BEM from '../../helpers/BEM'\r\nimport { reorderArticleInRow, updateArticleSizeInLayout } from '../../actions'\r\n\r\nconst b = BEM('LayoutArticle')\r\n\r\nclass LayoutArticle extends Component {\r\n  state = {\r\n    dragging: false,\r\n    initX: null,\r\n    initMaxWidth: parseInt(this.props.parameters.size.replace('px', '')),\r\n    changed: false\r\n  }\r\n\r\n  handleMouseDown = e => {\r\n    e.preventDefault()\r\n    if (!this.state.dragging) {\r\n      this.setState(state => ({\r\n        ...state,\r\n        dragging: true,\r\n        changed: true\r\n      }))\r\n    }\r\n\r\n    window.addEventListener('mouseup', this.handleMouseUp)\r\n    window.addEventListener('mousemove', this.handleMouseMove)\r\n  }\r\n\r\n  handleMouseUp = () => {\r\n    if (this.state.dragging)\r\n      this.setState(state => ({\r\n        ...state,\r\n        initX: null,\r\n        dragging: false\r\n      }))\r\n\r\n    window.removeEventListener('mousemove', this.handleMouseMove)\r\n    window.removeEventListener('mouseup', this.handleMouseUp)\r\n  }\r\n\r\n  handleMouseMove = e => {\r\n    const { parameters, updateArticleSizeInLayout } = this.props\r\n    e.preventDefault()\r\n    if (!this.state.initX) {\r\n      this.setState(state => ({\r\n        ...state,\r\n        initX: e.pageX,\r\n        initialMaxWidth: parseInt(parameters.size.replace('px', ''))\r\n      }))\r\n    } else {\r\n      const delta = e.pageX - this.state.initX\r\n      const maxWidth = `${this.state.initMaxWidth + delta}px`\r\n      updateArticleSizeInLayout({ id: parameters.id, size: maxWidth })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { changed } = this.state\r\n    const { parameters, layoutArticle, connectDropTarget, connectDragSource, resize } = this.props\r\n\r\n    return connectDropTarget(\r\n      connectDragSource(\r\n        <div className={`grid__cell_${parameters.col} ${b()}`}\r\n             style={!changed ? {} : { minWidth: parameters.size, maxWidth: parameters.size }}>\r\n          <h3 className={b('title')}>{layoutArticle.text}</h3>\r\n          {resize ?\r\n            <div className={b('resize')} onMouseDown={e => this.handleMouseDown(e)}>\r\n            </div> : null\r\n          }\r\n        </div>)\r\n    )\r\n  }\r\n}\r\n\r\nexport default flow(\r\n  DragSource(\r\n    'Article',\r\n    {\r\n      beginDrag: props => ({\r\n        id: props.layoutArticle.id,\r\n        text: props.layoutArticle.text,\r\n        index: props.index,\r\n        row: props.parameters.row\r\n      })\r\n    },\r\n    (connect, monitor) => ({\r\n      connectDragSource: connect.dragSource(),\r\n      connectDragPreview: connect.dragPreview(),\r\n      isDragging: monitor.isDragging()\r\n    })\r\n  ),\r\n  DropTarget(\r\n    'Article',\r\n    {\r\n      canDrop() {\r\n        return false\r\n      },\r\n      hover(props, monitor) {\r\n        const dragRow = monitor.getItem().row\r\n        const draggedId = monitor.getItem().id\r\n        const index = monitor.getItem().index\r\n        const overRow = props.parameters.row\r\n        const overId = props.layoutArticle.id\r\n        const overIndex = props.index\r\n\r\n        if (index === overIndex) return\r\n        if (draggedId === overId) return\r\n        if (dragRow !== overRow) return\r\n\r\n        if (index !== undefined && overIndex !== undefined)\r\n          props.reorderArticleInRow(props.rowId, index, overIndex, draggedId, overId)\r\n\r\n        monitor.getItem().index = overIndex\r\n      }\r\n    },\r\n    connect => ({\r\n      connectDropTarget: connect.dropTarget()\r\n    })\r\n  ),\r\n  connect(\r\n    null,\r\n    {\r\n      updateArticleSizeInLayout,\r\n      reorderArticleInRow\r\n    }\r\n  )\r\n)(LayoutArticle)","import React from 'react'\r\nimport { DropTarget } from 'react-dnd'\r\nimport { connect } from 'react-redux'\r\nimport flow from 'lodash/flow'\r\n\r\nimport LayoutArticle from './LayoutArticle'\r\nimport { addArticleToLayout, changeArticleColumnInRow, removeArticleFromLayout } from '../actions'\r\nimport { getAllArticles, getIdsInLayout } from '../reducers'\r\n\r\nimport '../grid.scss'\r\n\r\nconst Row = ({ row, articles, parameters, connectDropTarget }) => connectDropTarget(\r\n  <section className='grid' style={{ border: '1px solid grey', marginBottom: '5px' }}>\r\n    {articles.map(\r\n      (article, i) => articles[articles.length - 1] === article ?\r\n        <LayoutArticle\r\n          key={article.id}\r\n          index={i}\r\n          rowId={row}\r\n          layoutArticle={article}\r\n          parameters={parameters.filter(param => param.id === article.id)[0]}\r\n          resize={false}\r\n        /> :\r\n        <LayoutArticle\r\n          key={article.id}\r\n          index={i}\r\n          rowId={row}\r\n          layoutArticle={article}\r\n          parameters={parameters.filter(param => param.id === article.id)[0]}\r\n          resize={true}\r\n        />\r\n    )}\r\n  </section>\r\n)\r\n\r\nexport default flow(\r\n  DropTarget(\r\n    'Article',\r\n    {\r\n      drop(props, monitor) {\r\n        if (props.layoutArticles.filter(article => article.id === monitor.getItem().id).length === 0) {\r\n          if (props.parameters.length !== 0) {\r\n            props.parameters.map(article => props.changeArticleColumnInRow({\r\n              id: article.id,\r\n              col: `${12 / (props.parameters.length + 1)}`\r\n            }))\r\n            props.addArticleToLayout({\r\n              id: monitor.getItem().id,\r\n              col: `${12 / (props.parameters.length + 1)}`,\r\n              row: props.row,\r\n              size: '500px'\r\n            })\r\n          } else {\r\n            props.addArticleToLayout({\r\n              id: monitor.getItem().id,\r\n              col: '12',\r\n              row: props.row,\r\n              size: '500px'\r\n            })\r\n          }\r\n        }\r\n\r\n        return { id: monitor.getItem().id }\r\n      }\r\n    },\r\n    (connect, monitor) => ({\r\n      connectDropTarget: connect.dropTarget(),\r\n      hovered: monitor.isOver(),\r\n      item: monitor.getItem()\r\n    })\r\n  ),\r\n  connect(\r\n    state => ({\r\n      layoutArticles: getAllArticles(state).filter(article => getIdsInLayout(state).indexOf(article.id) !== -1)\r\n    }),\r\n    {\r\n      addArticleToLayout,\r\n      removeArticleFromLayout,\r\n      changeArticleColumnInRow\r\n    }\r\n  )\r\n)(Row)","import React from 'react'\r\nimport { DropTarget } from 'react-dnd'\r\nimport flow from 'lodash/flow'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { getAllArticles, getLayoutParameters, getAllRows } from '../../reducers'\r\nimport { addArticleToLayout, addNewRowToLayout } from '../../actions'\r\nimport Row from '../Row'\r\n\r\nimport './Layout.css'\r\nimport '../../grid.scss'\r\nimport BEM from '../../helpers/BEM'\r\n\r\nconst b = BEM('Layout')\r\n\r\nconst Layout = ({ connectDropTarget, data, articles, layoutParameters, addNewRowToLayout, rows }) =>\r\n  connectDropTarget(\r\n    <main className={b()}>\r\n      <h1 className={b('title')}>Layout</h1>\r\n      <main>\r\n        {rows.map(row => (\r\n          <Row\r\n            key={row.rowId}\r\n            row={row.rowId}\r\n            parameters={layoutParameters.filter(p => p.row === row.rowId)}\r\n            articles={row.articlesInRow.map(id => articles.filter(article => article.id === id)[0])}\r\n          />\r\n        ))}\r\n      </main>\r\n    </main>\r\n  )\r\n\r\nexport default flow(\r\n  DropTarget(\r\n    'Article',\r\n    {\r\n      drop: (props, monitor) => {\r\n        if (props.layoutParameters.filter(param => param.id === monitor.getItem().id).length === 0)\r\n          props.addArticleToLayout({\r\n              id: monitor.getItem().id,\r\n              col: '12',\r\n              row: props.addNewRowToLayout().id,\r\n              size: '500px'\r\n            }\r\n          )\r\n      }\r\n    },\r\n    (connect, monitor) => ({\r\n      connectDropTarget: connect.dropTarget(),\r\n      hovered: monitor.isOver(),\r\n      item: monitor.getItem()\r\n    })\r\n  ),\r\n  connect(\r\n    state => ({\r\n      articles: getAllArticles(state),\r\n      layoutParameters: getLayoutParameters(state),\r\n      rows: getAllRows(state)\r\n    }),\r\n    {\r\n      addArticleToLayout,\r\n      addNewRowToLayout\r\n    }\r\n  ))(Layout)","import React from 'react'\r\nimport { DragDropContextProvider } from 'react-dnd'\r\nimport HTML5Backend from 'react-dnd-html5-backend'\r\n\r\nimport Sidebar from '../Sidebar'\r\nimport Layout from '../Layout'\r\n\r\nimport './App.css'\r\n\r\nconst App = () => (\r\n  <div className={'App'}>\r\n    <DragDropContextProvider backend={HTML5Backend}>\r\n      <Sidebar/>\r\n      <Layout/>\r\n    </DragDropContextProvider>\r\n  </div>\r\n)\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport Provider from './components/Provider'\r\nimport configureStore from './configureStore'\r\nimport App from './components/App'\r\n\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <Provider store={configureStore()}>\r\n    <App/>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n\r\n","import { applyMiddleware, createStore } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport rootReducer from './reducers'\r\nimport thunk from 'redux-thunk'\r\n\r\nexport default () =>\r\n  createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))"],"sourceRoot":""}